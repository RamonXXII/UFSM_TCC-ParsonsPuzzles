<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Exercício de Problemas de Parsons</title>
        <link href="../../parsons.css" rel="stylesheet" />
        <link href="../../lib/prettify.css" rel="stylesheet" />
        <link href="./personalStyle.css" rel="stylesheet"/>
        <script src="../../lib/prettify.js"></script>
    </head>
    <body>
        <h2>Exercício de Problemas de Parsons</h2>
        <!-- DICA -->
        <p id="dica" hidden>Dica: Atenção com a identação do código gerado.</p>
        <div id="sortableTrash" class="sortable-code"></div>
        <div id="sortable" class="sortable-code">
        </div>
        <div style="clear:both;"></div>
        <p>
            <a href="#" id="newInstanceLink">Resetar</a>
            <a href="#" id="feedbackLink">Feedback</a>
            <a href="#" class="btnDica">Dica</a> <!-- DICA -->
            <a href="exercise_2.html" id="nextLevel" hidden>Próximo Nivel</a>
        </p>
        <script src="../../lib/jquery.min.js"></script>
        <script src="../../lib/jquery-ui.min.js"></script>
        <script src="../../lib/jquery.ui.touch-punch.min.js"></script>
        <script src="../../lib/underscore-min.js"></script>
        <script src="../../lib/lis.js"></script>
        <script src="../../parsons.js"></script>
        <script>
        var initial = 'def is_true(boolean_value):\n' +
                      '  if boolean_value:\n' +
                      '    return True\n' +
                      '  return False\n' +
                      '  return true #distractor\n' +
                      '  return false #distractor\n'

        

        function displayErrors(fb) {
            if(fb.errors.length > 0) {
                alert(fb.errors[0]);
            }
        } 

        $(document).ready(function(){
            var parson = new ParsonsWidget({
                'sortableId': 'sortable',
                'trashId': 'sortableTrash',
                'max_wrong_lines': 1,
                'feedback_cb' : displayErrors,
                'lang': 'ptbr'
            });
            parson.init(initial);
            parson.shuffleLines();
            $("#newInstanceLink").click(function(event){
                event.preventDefault();
                parson.shuffleLines();
            });
            $("#feedbackLink").click(function(event){
                event.preventDefault();
                var fb = parson.getFeedback();
                if (fb.success) {
                    $("#nextLevel").show();
                }
            });
        });

        $(".btnDica").click(function() {
            $("#dica").show();
        });

        </script>
    </body>
</html>
